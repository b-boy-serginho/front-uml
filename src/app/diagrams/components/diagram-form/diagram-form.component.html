<div class="form-container">
  <div class="form-card">
    <div class="form-header">
      <h1>{{ isEditMode ? 'âœï¸ Editar Diagrama' : 'â• Nuevo Diagrama' }}</h1>
    </div>

    <form [formGroup]="myForm" (ngSubmit)="save()" class="diagram-form">

      <div class="form-group">
        <label for="name">
          Nombre del Diagrama <span class="required">*</span>
        </label>
        <input
          type="text"
          id="name"
          formControlName="name"
          class="form-control"
          [class.invalid]="isFieldInvalid('name')"
          placeholder="Ej: Diagrama de Clases - MÃ³dulo de Usuarios"
        />
        <small class="error-message" *ngIf="isFieldInvalid('name')">
          El nombre es requerido y debe tener al menos 3 caracteres
        </small>
      </div>

      <div class="form-group">
        <label for="description">
          DescripciÃ³n <span class="required">*</span>
        </label>
        <textarea
          id="description"
          formControlName="description"
          class="form-control"
          [class.invalid]="isFieldInvalid('description')"
          rows="5"
          placeholder="Describe brevemente el diagrama..."
        ></textarea>
        <small class="error-message" *ngIf="isFieldInvalid('description')">
          La descripciÃ³n es requerida
        </small>
      </div>

      <div class="form-group">
        <label for="tipo">
          Tipo de Diagrama <span class="required">*</span>
        </label>
        <select 
          id="tipo" 
          formControlName="tipo" 
          class="form-control"
          [class.invalid]="isFieldInvalid('tipo')"
        >
          <option value="class">ğŸ“Š Diagrama de Clases UML</option>
        </select>
        <small class="hint">Por ahora solo se soportan diagramas de clases UML</small>
      </div>
        
      <div class="form-actions">
        <button type="button" (click)="onCancel()" class="btn btn-secondary">
          âŒ Cancelar
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="myForm.invalid">
          {{ isEditMode ? 'ğŸ’¾ Guardar Cambios' : 'ğŸ¨ Crear e Ir a la Pizarra' }}
        </button>
      </div>

    </form>
  </div>
</div>
