<div class="register-wrapper">
    <div class="register-container">
        <div class="register-header">
            <a routerLink="/" class="logo-link">
                <span class="logo-icon">âš¡</span>
                <span class="logo-text">DiagramCode</span>
            </a>
            <p class="register-subtitle">Crea tu cuenta</p>
        </div>

        <div class="register-form">
            <div class="form-header">
                <h2 class="form-title">Registrarse</h2>
                <p class="form-description">Completa tus datos para crear una cuenta</p>
            </div>

            <div class="error-message" *ngIf="errorMessage">
                <span class="error-icon">âš ï¸</span>
                <span>{{ errorMessage }}</span>
            </div>

            <form [formGroup]="myForm" (ngSubmit)="register()">
                <!-- Primera fila: Nombre y Apellido -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="name">
                            <span class="label-icon">ğŸ‘¤</span>
                            Nombre
                        </label>
                        <input 
                            type="text" 
                            id="name" 
                            class="form-input" 
                            formControlName="name" 
                            required 
                            placeholder="Tu nombre"
                            [class.error]="myForm.get('name')?.invalid && myForm.get('name')?.touched">
                        <div *ngIf="myForm.get('name')?.invalid && myForm.get('name')?.touched" class="error-text">
                            <span *ngIf="myForm.get('name')?.errors?.['required']">El nombre es requerido</span>
                            <span *ngIf="myForm.get('name')?.errors?.['minlength']">MÃ­nimo 2 caracteres</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="lastName">
                            <span class="label-icon">ğŸ‘¤</span>
                            Apellido
                        </label>
                        <input 
                            type="text" 
                            id="lastName" 
                            class="form-input" 
                            formControlName="lastName" 
                            required 
                            placeholder="Tu apellido"
                            [class.error]="myForm.get('lastName')?.invalid && myForm.get('lastName')?.touched">
                        <div *ngIf="myForm.get('lastName')?.invalid && myForm.get('lastName')?.touched" class="error-text">
                            <span *ngIf="myForm.get('lastName')?.errors?.['required']">El apellido es requerido</span>
                            <span *ngIf="myForm.get('lastName')?.errors?.['minlength']">MÃ­nimo 2 caracteres</span>
                        </div>
                    </div>
                </div>

                <!-- Segunda fila: Nombre de usuario y Email -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="userName">
                            <span class="label-icon">ğŸ”–</span>
                            Nombre de usuario
                        </label>
                        <input 
                            type="text" 
                            id="userName" 
                            class="form-input" 
                            formControlName="userName" 
                            required 
                            placeholder="usuario123"
                            [class.error]="myForm.get('userName')?.invalid && myForm.get('userName')?.touched">
                        <div *ngIf="myForm.get('userName')?.invalid && myForm.get('userName')?.touched" class="error-text">
                            <span *ngIf="myForm.get('userName')?.errors?.['required']">El usuario es requerido</span>
                            <span *ngIf="myForm.get('userName')?.errors?.['minlength']">MÃ­nimo 3 caracteres</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="email">
                            <span class="label-icon">ğŸ“§</span>
                            Correo electrÃ³nico
                        </label>
                        <input 
                            type="email" 
                            id="email" 
                            class="form-input" 
                            formControlName="email" 
                            required 
                            placeholder="tu@email.com"
                            [class.error]="myForm.get('email')?.invalid && myForm.get('email')?.touched">
                        <div *ngIf="myForm.get('email')?.invalid && myForm.get('email')?.touched" class="error-text">
                            <span *ngIf="myForm.get('email')?.errors?.['required']">El email es requerido</span>
                            <span *ngIf="myForm.get('email')?.errors?.['email']">Email invÃ¡lido</span>
                        </div>
                    </div>
                </div>

                <!-- Tercera fila: ContraseÃ±as -->
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="password">
                            <span class="label-icon">ğŸ”’</span>
                            ContraseÃ±a
                        </label>
                        <div class="password-container">
                            <input 
                                [type]="showPassword ? 'text' : 'password'" 
                                id="password" 
                                class="form-input" 
                                placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                                formControlName="password" 
                                required
                                [class.error]="myForm.get('password')?.invalid && myForm.get('password')?.touched">
                            <span class="toggle-password" (click)="togglePassword()" title="Mostrar/Ocultar contraseÃ±a">
                                {{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
                            </span>
                        </div>
                        <div *ngIf="myForm.get('password')?.invalid && myForm.get('password')?.touched" class="error-text">
                            <span *ngIf="myForm.get('password')?.errors?.['required']">La contraseÃ±a es requerida</span>
                            <span *ngIf="myForm.get('password')?.errors?.['minlength']">MÃ­nimo 6 caracteres</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="confirmPassword">
                            <span class="label-icon">ğŸ”’</span>
                            Confirmar contraseÃ±a
                        </label>
                        <div class="password-container">
                            <input 
                                [type]="showConfirmPassword ? 'text' : 'password'" 
                                id="confirmPassword" 
                                class="form-input" 
                                placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                                formControlName="confirmPassword" 
                                required
                                [class.error]="myForm.get('confirmPassword')?.invalid && myForm.get('confirmPassword')?.touched">
                            <span class="toggle-password" (click)="toggleConfirmPassword()" title="Mostrar/Ocultar contraseÃ±a">
                                {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
                            </span>
                        </div>
                        <div *ngIf="myForm.get('confirmPassword')?.invalid && myForm.get('confirmPassword')?.touched" class="error-text">
                            <span *ngIf="myForm.get('confirmPassword')?.errors?.['required']">Confirma tu contraseÃ±a</span>
                            <span *ngIf="myForm.get('confirmPassword')?.errors?.['passwordMismatch']">Las contraseÃ±as no coinciden</span>
                        </div>
                    </div>
                </div>

                <div class="form-options">
                    <label class="checkbox-container">
                        <input type="checkbox" id="terms" required>
                        <span>Acepto los <a href="#" class="terms-link">tÃ©rminos y condiciones</a></span>
                    </label>
                </div>

                <button type="submit" class="btn-register" [disabled]="myForm.invalid">
                    <span>âœ¨</span>
                    Crear Cuenta
                </button>
            </form>

            <div class="divider">
                <span>O</span>
            </div>

            <div class="login-link">
                Â¿Ya tienes una cuenta? 
                <a routerLink="/login" class="login-link-text">Inicia sesiÃ³n aquÃ­</a>
            </div>
        </div>

        <div class="register-footer">
            <a routerLink="/" class="back-link">â† Volver al inicio</a>
        </div>
    </div>
</div>